# NFT 레시피 공개성 및 프라이버시 가이드

## 블록체인 데이터의 공개성

### 1. 트랜잭션 Input Data는 공개됩니다

이더스캔에서 본 input data는 **블록체인에 영구적으로 저장**되며, **누구나 읽을 수 있습니다**.

```
0x675f0173...697066733a2f2f516d54657374313233...
```

이 데이터는:
- ✅ **공개적으로 접근 가능** (이더스캔, 블록 탐색기 등)
- ✅ **영구적으로 저장** (블록체인에 기록됨)
- ✅ **삭제 불가능** (블록체인의 특성)

### 2. Input Data 구조 분석

```
0x675f0173  - 함수 시그니처 (mintRecipe)
...95c76d32... - to 주소 (민팅 대상)
...697066733a2f2f516d54657374313233 - "ipfs://QmTest123"
```

**IPFS URI가 포함되어 있습니다!**

### 3. IPFS 메타데이터 접근

IPFS URI (`ipfs://QmTest123`)를 통해 누구나 메타데이터를 가져올 수 있습니다:

#### 방법 1: IPFS 게이트웨이 사용

```
https://ipfs.io/ipfs/QmTest123
https://gateway.pinata.cloud/ipfs/QmTest123
https://cloudflare-ipfs.com/ipfs/QmTest123
```

#### 방법 2: 직접 IPFS 노드 사용

```bash
ipfs cat QmTest123
```

### 4. 레시피 원문 접근 가능 여부

**결론: 네, 누구나 레시피 원문을 볼 수 있습니다.**

1. **이더스캔에서 IPFS URI 확인** → 공개
2. **IPFS 게이트웨이로 메타데이터 다운로드** → 공개
3. **메타데이터에 레시피 정보 포함** → 공개

## 현재 구현 상태

### 메타데이터 구조

```json
{
  "name": "김치찌개",
  "description": "Recipe NFT: 김치찌개",
  "image": "",
  "attributes": [...],
  "properties": {
    "ingredients": ["김치", "돼지고기", ...],
    "cooking_tools": ["냄비", ...],
    "cooking_steps": ["1. 김치를 썬다", ...],
    "machine_instructions": [...]
  }
}
```

**모든 레시피 정보가 IPFS에 저장되어 공개됩니다.**

## 프라이버시 옵션

### 옵션 1: 암호화 (추가 구현 필요)

레시피를 암호화하여 IPFS에 저장:

```python
# 암호화된 레시피 저장
encrypted_recipe = encrypt(recipe_data, key)
ipfs_hash = upload_to_ipfs(encrypted_recipe)

# NFT에는 암호화된 해시만 저장
# 소유자만 복호화 키를 가지고 있음
```

**장점**: 소유자만 레시피 확인 가능  
**단점**: 복잡도 증가, 복호화 키 관리 필요

### 옵션 2: 부분 공개

일부 정보만 공개, 상세 정보는 비공개:

```json
{
  "name": "김치찌개",
  "description": "맛있는 김치찌개 레시피",
  "image": "대표 이미지",
  "preview": {
    "ingredients_count": 5,
    "cooking_time": "30분"
  }
  // 상세 레시피는 별도 저장 (암호화 또는 비공개)
}
```

### 옵션 3: 접근 제어 (중앙화)

IPFS에 저장하되, 접근은 웹사이트를 통해서만:

- IPFS 게이트웨이 접근 제한
- 웹사이트에서만 메타데이터 제공
- 인증된 사용자만 상세 정보 확인

**단점**: 완전한 분산화가 아님

## 권장 사항

### 현재 구조 (공개형)

**장점**:
- ✅ 완전한 분산화
- ✅ 누구나 검증 가능
- ✅ NFT 표준 준수
- ✅ 구현 간단

**단점**:
- ❌ 레시피가 공개됨
- ❌ 비공개 레시피 불가

### 비공개 레시피가 필요한 경우

1. **암호화 구현** (복잡도 높음)
2. **하이브리드 방식**: 미리보기만 공개, 상세는 비공개
3. **접근 제어**: 웹사이트를 통한 인증 기반 접근

## 결론

**현재 구현에서는 레시피가 공개됩니다.**

- 블록체인 트랜잭션은 공개
- IPFS 메타데이터는 공개
- 누구나 IPFS 게이트웨이로 접근 가능
- 웹사이트 없이도 레시피 확인 가능

**비공개가 필요한 경우**:
- 암호화 기능 추가 필요
- 또는 하이브리드 방식 구현

